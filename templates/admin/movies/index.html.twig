{% extends 'admin/base.html.twig' %}

{% block body %}
    <div>
    <a href="{{ path('movies_create') }}" class="text-grey-lighter font-bold py-1 px-3 rounded text-xs bg-green-400 hover:bg-green-600">Create</a>
    <div class="bg-white shadow-md rounded my-6">
        <table class="text-left w-full border-collapse">
            <!--Border collapse doesn't work on this site yet but it's available in newer tailwind versions -->
            <thead>
            <tr>
                <th class="py-4 px-6 bg-grey-lightest font-bold uppercase text-sm text-grey-dark border-b border-grey-light">
                    Title
                </th>
                <th class="py-4 px-6 bg-grey-lightest font-bold uppercase text-sm text-grey-dark border-b border-grey-light">
                    Director
                </th>
                <th class="py-4 px-6 bg-grey-lightest font-bold uppercase text-sm text-grey-dark border-b border-grey-light">
                    Actions
                </th>
            </tr>
            </thead>
            <tbody>
            {% for movie in movies %}
                <tr class="hover:bg-grey-lighter">
                    <td class="py-4 px-6 border-b border-grey-light">{{ movie.title }}</td>
                    <td class="py-4 px-6 border-b border-grey-light">{{ movie.director }}</td>
                    <td class="py-4 px-6 border-b border-grey-light flex flex-row">
                        <a href="{{ path('movies_edit', {'id': movie.id}) }}"
                           id="edit"
                           class="text-grey-lighter font-bold py-1 px-3 rounded text-xs bg-green-400 hover:bg-green-600">
                            Edit
                        </a>
                        <form action="{{ path('movies_delete', {'id': movie.id}) }}" method="POST" class="ml-5">
                            <input type="hidden" name="token" value="{{ csrf_token('delete') }}" />
                            <button class="text-grey-lighter font-bold py-1 px-3 rounded text-xs bg-red-400 hover:bg-red-600" id="delete">Delete</button>
                        </form>
                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
    </div>{% endblock %}

